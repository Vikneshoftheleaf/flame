<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flames Game</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://kit.fontawesome.com/067fc88846.js" crossorigin="anonymous"></script>
    <link rel="shortcut icon" href="/heart.jpg" type="image/x-icon">

</head>

<body class="bg-red-50 flex justify-center items-center lg:h-screen">


    <div class="grid lg:grid-cols-2 grid-col-1 lg:m-20 rounded-[8px]">

        <div class="col ">
            <img src="/Valentine14.jpg" alt="sweet image">
        </div>
        <div class="col p-8 rounded-[8px] bg-white flex flex-col gap-4 justify-center items-center">


            <div class="text-4xl lg:text-6xl font-black text-red-950">Find What The Relationship Is! <i class="fa-solid fa-heart text-red-500"></i></div>

            <form id="doflame" class="flex flex-col gap-2 w-full">
                <label for="name1" class="text-md font-semibold">Persone 1</label>
                <input type="text" id="name1" class="p-4 bg-red-200" placeholder="Eg:James">

                <label for="name2" class="text-md font-semibold">Person 2 </label>
                <input type="text" id="name2" class="p-4 bg-red-200" placeholder="Eg:Clara">

                <button class="bg-red-500 mt-2 rounded-[8px] font-bold text-2xl text-red-50 py-4 px-4">Calculate
                    FLAMES <i class="fa-solid fa-fire"></i></button><br><br>

            </form>
            <div id="result" class="hidden absolute h-screen w-screen bg-white/20 top-0 left-0">
                <div class="h-full w-full flex justify-center items-center">
                    <div class="h-[300px] w-[300px] lg:h-[300px] lg:w-[300px] z-10 rounded-[8px] bg-white ">
                        <button id="close" class="text-red-900 p-2 float-right"><i class="fa-solid fa-xmark fa-xl"></i></button>
                        <div class="flex flex-col p-4 h-[60%] items-center justify-center w-full">
                            <span id="words" class="text-8xl font-black uppercase"></span>
                            <span id="relbar" class="text-2xl font-semibold"></span>
                            <span id="err" class="text-2xl font-semibold"></span>
                        </div>
                    </div>

                </div>
            </div>
        </div>



    </div>


    <script>
        const name1 = document.getElementById("name1").value.toLowerCase().replace(/ /g, '');
        const name2 = document.getElementById("name2").value.toLowerCase().replace(/ /g, '');
        const popup = document.getElementById("result");
        const words = document.getElementById('words');
        const popClose = document.getElementById("close");
        const relbar = document.getElementById('relbar');
        const ebox = document.getElementById('err')


        document.getElementById('doflame').addEventListener("submit", (e) => {
            e.preventDefault()
            calculateFlames()
        })
        function calculateFlames() {
            const name1 = document.getElementById("name1").value.toLowerCase().replace(/ /g, '');
            const name2 = document.getElementById("name2").value.toLowerCase().replace(/ /g, '');


            const flamesLetters = "flame";
            let count = name1.length + name2.length;

            for (let i = 0; i < name1.length; i++) {
                for (let j = 0; j < name2.length; j++) {
                    if (name1[i] === name2[j]) {
                        count += 2;
                    }
                }
            }

            const resultIndex = (count % flamesLetters.length);

            let result;
            let relation;
            if (resultIndex >= 0) {
                result = flamesLetters[resultIndex];
            } else {
                relation = " A unknown error Occured"
            }

            if (result == 'f') {
                relation = 'Friendship'
            }
            if (result == 'l') {
                relation = 'Love'
            }
            if (result == 'a') {
                relation = 'Affection'
            }
            if (result == 'm') {
                relation = 'Marriage'
            }
            if (result == 'e') {
                relation = 'Enemy'
            }

            popup.classList.toggle("hidden");

            words.textContent = result;
            relbar.textContent = relation;
        }

        popClose.addEventListener("click", () => {
            popup.classList.add("hidden")
        })
    </script>
</body>

</html>